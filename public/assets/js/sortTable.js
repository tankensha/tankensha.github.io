var table,thead,headers,i,j,tables=document.querySelectorAll("table.sortable");for(i=0;i<tables.length;i++)if(thead=(table=tables[i]).querySelector("thead")){for(j=0,headers=thead.querySelectorAll("th");j<headers.length;j++)headers[j].innerHTML="<a href='#'>"+headers[j].innerText+"</a>";thead.addEventListener("click",sortTableFunction(table))}function sortTableFunction(e){return function(t){"a"==t.target.tagName.toLowerCase()&&(sortRows(e,siblingIndex(t.target.parentNode)),t.preventDefault())}}function siblingIndex(e){for(var t=0;e=e.previousElementSibling;)t++;return t}function sortRows(e,t){var r,a,n,o=e.querySelectorAll("tbody tr"),l="td:nth-child("+(t+1)+")",s=e.querySelector("thead th:nth-child("+(t+1)+")").classList,u=[],d="",b=!0;for(s&&(s.contains("date")?d="date":s.contains("number")&&(d="number")),a=0;a<o.length;a++)isNaN(r=(n=o[a].querySelector(l)).innerText)?b=!1:r=parseFloat(r),u.push({value:r,row:o[a]});""==d&&b&&(d="number"),"number"==d?(u.sort(sortNumberVal),u=u.reverse()):"date"==d?u.sort(sortDateVal):u.sort(sortTextVal);for(var c=0;c<u.length;c++)e.querySelector("tbody").appendChild(u[c].row)}function sortNumberVal(e,t){return sortNumber(e.value,t.value)}function sortNumber(e,t){return e-t}function sortDateVal(e,t){var r;return sortNumber(Date.parse(e.value),Date.parse(t.value))}function sortTextVal(e,t){var r=(e.value+"").toUpperCase(),a=(t.value+"").toUpperCase();return r<a?-1:r>a?1:0}
